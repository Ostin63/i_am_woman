$(document).ready((function(){function e(e){let t=e.page.index+1;$(".counter").html("0"+t+" &sol; ")}function t(e){$(".counter-sub").html(e.item.count)}$(".slide-1").owlCarousel({loop:!0,nav:!1,autoplay:!1,items:1,responsive:{320:{margin:10},764:{nav:!0,navText:!0,navigation:!0,navigationText:["",""],margin:300,onInitialized:t,onTranslated:e},1440:{nav:!0,navText:!0,navigation:!0,navigationText:["",""],margin:100,onInitialized:t,onTranslated:e}}}),$(".slide-2").owlCarousel({loop:!0,nav:!0,navText:!0,navigation:!0,navigationText:["",""],autoplay:!1,center:!0,responsive:{320:{items:1},764:{items:3,margin:20,center:!0},1440:{margin:35}}}),$(".slide-3").owlCarousel({loop:!0,pagination:!0,autoplay:!1,navigation:!0,dotsEach:!0,navigationText:["",""],onInitialized:function(e){$(".blog-counter-sub").html(e.item.count)},onTranslated:function(e){let t=e.page.index+1;$(".blog-counter").html("0"+t+" &sol; ")},responsive:{320:{items:1},764:{slideBy:1,items:2,margin:20},1440:{slideBy:1,items:3.5,margin:36,center:!0}}}),$(".toogle").click((function(){$(".popup-catalog").addClass("modal--show"),$(".modal-overlay").addClass("modal--show")})),$(".close").click((function(){$(".popup-catalog").removeClass("modal--show"),$(".modal-overlay").removeClass("modal--show")})),$(".modal--list").click((function(){$(".popup-catalog").removeClass("modal--show"),$(".modal-overlay").removeClass("modal--show")})),$(document).keydown((function(e){27===e.keyCode&&($(".popup-catalog").removeClass("modal--show"),$(".priv-office").removeClass("modal--show"),$(".form-input-office").removeClass("modal--show"),$(".form-registration").removeClass("modal--show"),$(".modal-overlay").removeClass("modal--show"))}));let a=$(".nav li a");$(".tracked").waypoint((function(e){let t=this.element.id;if("up"===e){let e=parseInt(t.split("-")[1]);e>1&&e--,t=[t.split("-")[0],e].join("-")}a.removeClass("show"),$.each(a,(function(){$(this).attr("href").slice(1)==t&&$(this).addClass("show")}))}))[0].options.offset=-1}));let btnItems=document.querySelectorAll(".news__item");for(let e=0;e<btnItems.length;e++){btnItems[0].classList.add("item-acion")}let newsCarts=document.querySelectorAll(".news-cart");for(let e=0;e<newsCarts.length;e++){newsCarts[0].classList.add("cart-active")}let catCarts=[];for(let e=0;e<newsCarts.length;e++){let t=newsCarts[e];catCarts.push(t)}let addThumbnailClickBtn=function(e,t){e.addEventListener("click",(function(e){let a=e.target;for(let e=0;e<btnItems.length;e++){btnItems[e].classList.remove("item-acion")}a.classList.add("item-acion");for(let e=0;e<newsCarts.length;e++){newsCarts[e].classList.remove("cart-active")}t.classList.add("cart-active")}))};for(let e=0;e<btnItems.length;e++)addThumbnailClickBtn(btnItems[e],catCarts[e]);let searchTxt,clonedTxt,clonedLbl,clonedLblWrap,search=document.querySelector(".search"),searchInp=search.children[0],searchLbl=search.children[1],searchBtn=search.children[2],searchBrd=search.children[3],searchCls=search.children[4],animating=!1,busy=!0,TLTxt=new TimelineLite,TLSrch=new TimelineLite({onReverseComplete:()=>{TLTxt.clear(),animating=!1}});function createTxt(e,t,a){let n=[];for(let t=e.length;t--;)n.unshift(`<span class='${a}'>${e[t]}</span>`);t.innerHTML=n.join("")}function createLblTxt(e){createTxt(e,clonedLbl,"cloned-text"),clonedTxt=document.querySelectorAll(".cloned-text"),animClonedTxt(Array.from(clonedTxt).reverse())}function animSearch(){animating=!0,TLSrch.restart().to(searchBrd,.4,{scaleX:2,x:-25,y:0,ease:Sine.easeIn}).to(searchBtn,.4,{rotationX:90,ease:Sine.easeIn},"-=.4").to(searchBrd,.4,{rotation:180,x:"-=6",y:"+=10",ease:Power2.easeInOut}).set(searchBrd,{transformOrigin:"0",marginRight:"-58px"}).to(searchBrd,.6,{scaleX:63,ease:Power1.easeOut}).set(search,{className:"+=edge",onComplete:showTxt}).to(searchInp,.6,{scaleX:1,ease:Sine.easeInOut},"-=.3").set(searchCls,{className:"+=visible"}).addPause()}function showTxt(){new TimelineLite({onStart:()=>{searchInp.disabled=!0}}).staggerTo(searchTxt,.07,{opacity:1},.035),setTimeout(()=>{searchInp.disabled=!1,busy=!1},300)}function animClonedTxt(e){let t=clonedLbl.scrollWidth,a=t-clonedLbl.offsetWidth,n=new TimelineLite({onComplete:()=>{clonedLblWrap.remove()}});n.staggerTo(e,.08,{opacity:0},.04);let s=n.totalDuration(),l=a*s/t;a>0&&TweenLite.fromTo(clonedLbl,l,{x:-a},{x:0,delay:.2,ease:SlowMo.ease.config(.1,.1,!1)}),setTimeout(()=>{TLSrch.reverse()},Math.max(1e3*(s-.35),0))}function cloneLbl(){clonedLblWrap=document.createElement("div"),clonedLblWrap.className="search-label",search.appendChild(clonedLblWrap),clonedLbl=document.createElement("div"),clonedLblWrap.appendChild(clonedLbl)}createTxt("Введите текст",searchLbl,"search-text"),searchTxt=document.querySelectorAll(".search-text"),searchBtn.addEventListener("click",()=>{animating||animSearch()}),searchBrd.addEventListener("click",()=>{animating||animSearch()}),searchInp.addEventListener("focus",()=>{busy||searchInp.value.trim().length||(TLTxt.isActive()?TLTxt.play():TLTxt.restart().timeScale(1).staggerTo(searchTxt,.07,{opacity:0},.035))}),searchInp.addEventListener("blur",()=>{busy||searchInp.value.trim().length||TLTxt.reverse().timeScale(1.3)}),search.addEventListener("submit",e=>{e.preventDefault(),busy=!0,TLTxt.paused()?TLTxt.clear():TLTxt.play();let t=searchInp.value.trim();searchInp.disabled=!0,t.length?(cloneLbl(),createLblTxt(t)):TLSrch.reverse(),searchInp.value="",searchInp.blur()}),searchCls.addEventListener("mousedown",e=>{e.preventDefault()}),searchCls.addEventListener("click",()=>{if(busy)return;busy=!0;let e=searchInp.value.trim();searchInp.disabled=!0,e.length?(cloneLbl(),createLblTxt(e)):(TLTxt.isActive()?TLTxt.play():1==TLTxt.progress()?TLTxt.clear():TLTxt.restart().timeScale(1).staggerTo(searchTxt,.07,{opacity:0},.035),TLSrch.reverse()),searchInp.value="",searchInp.blur()});